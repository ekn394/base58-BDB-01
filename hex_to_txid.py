# Converter tool from raw tx hex to tx id.
# Feb 22, 2025

import hashlib

#raw_transaction_hex = "01000000038b9896d07dd8f694b72e750a69105e0f134837500a020ebb8fc77380973075bc000000008a47304402206213230eddf32c60167e654e3934602c0e46308932ea344a0e242699c1818f51022044895b0fc7adef9e551777d0de789d508fb56785ca80fbbfeec01b9d07b4fb7901410450128ec8ff327d0cd782702a32f51b14149d8a19b89075a56ead462363fa29ae9b35ca4f71ae8d5cd78803d835d05451ebb3ee861c80746f0e4fd5316ec306a7ffffffff92491ce956f3a52074ee8ab024069bc14c8396c33d8bb43de1ef1cc7f9f01a46000000008b48304502207fec947609bd275a32cfd058c76678fe868c12b681c9ab0c31f716a92ba5fed0022100cd95a9ff2036a7ee0babe268ac64b425b4490be36609452ec01c11b8eaf14665014104b5a08389cbbf01178c5451f9e1c09265e73ef7bc4a1bc6761143593134e5c6460ab31ae2d5f09140a5e95a58538fd4651cb966a86de41c1a6a79b6045ecc0312ffffffff3ca3845de7916e872570ce1676dedc3151717b7d345affa188eaa7baad3bd1a1000000006b483045022100a53211eed0e857dfab414f106190780c3791797b81aaf5a8a8f997681f6ea660022030a00ef0733bafa5f05026e027ac6f230c3929f9c766ef31edeabf2bcaed81740121036ec01e60571b5050bafb2d77063061a487228da342e996003e35ac7b5519e2e7ffffffff048e2e1601000000001976a9142b18e0074aad70661b6fecf742cbefab4a145d1188ac40420f00000000001976a914a229e570ef0c11b6a20451d65047b0fbe2c96a2f88ac40420f00000000001976a91408536923b85945c704b47bb2657294757bc417dc88ac40420f00000000001976a91415c307a88533528de8414fc2fc96b4e67ac0e0ef88ac00000000"
raw_transaction_hex = "0100000001c997a5e56e104102fa209c6a852dd90660a20b2d9c352423edce25857fcd3704000000004847304402204e45e16932b8af514961a1d3a1a25fdf3f4f7732e9d624c6c61548ab5fb8cd410220181522ec8eca07de4860a4acdd12909d831cc56cbbac4622082221a8768d1d0901ffffffff0200ca9a3b00000000434104ae1a62fe09c5f51b13905f07f06b99a2f7159b2225f374cd378d71302fa28414e7aab37397f554a7df5f142c21c1b7303b8a0626f1baded5c72a704f7e6cd84cac00286bee0000000043410411db93e1dcdb8a016b49840f8c53bc1eb68a382e97b1482ecad7b148a6909a5cb2e0eaddfb84ccf9744464f82e160bfa9b8b64f9d4c03f999b8643f656b412a3ac00000000"

def double_sha256(data):
    """Perform double SHA-256 hashing."""
    first_hash=hashlib.sha256(data).digest()
    second_hash=hashlib.sha256(first_hash).digest()
    return second_hash

def raw_tx_hex_to_txid(raw_transaction_hex):
    # Convert the hex string to bytes 
    raw_transaction_bytes = bytes.fromhex(raw_transaction_hex)
    # Perform the sha256 hashing algorithm (twice) 
    txid = double_sha256(raw_transaction_bytes)
    # Reverse the order of the bites and convert back out of bytes into a long hex string of a properly formated txid
    txid_hex = txid[::-1].hex() 
    return txid_hex


txid_hex = (raw_tx_hex_to_txid(raw_transaction_hex))

print("\nRaw transaction hex:\n", raw_transaction_hex)
print("\ntxid:\n", txid_hex)


